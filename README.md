This implementation was heavily influenced by [snappy-c](https://github.com/andikleen/snappy-c).
